package kr.or.ddit.basic;
/*
 	ğŸ“Œ 1 ~ 20 ì–µê¹Œì§€ì˜ í•©ê³„ë¥¼ êµ¬í•˜ëŠ” í”„ë¡œê·¸ë¨ì„ í•˜ë‚˜ì˜ ì“°ë ˆë“œê°€ ë‹¨ë…ìœ¼ë¡œ ì²˜ë¦¬í•  ë•Œì™€
 		ì—¬ëŸ¬ ê°œì˜ ì“°ë ˆë“œê°€ í˜‘ë ¥í•´ì„œ ì²˜ë¦¬í•  ë•Œì˜ ê²½ê³¼ ì‹œê°„ì„ ë¹„êµí•´ë³´ì. 
 */
public class ThreadTest04 {
	public static void main(String[] args) {
		//ë‹¨ë…ìœ¼ë¡œ ì²˜ë¦¬í•˜ëŠ” ì“°ë ˆë“œ ìƒì„± 
		SumThread sm = new SumThread(1L, 2_000_000_000L);
		
		//ì—¬ëŸ¿ì´ í˜‘ë ¥í•´ì„œ ì²˜ë¦¬í•˜ëŠ” ì“°ë ˆë“œ ìƒì„± 
		SumThread[] sumArr = new SumThread[] {
				new SumThread(						  1L, 500_000_000L),
				new SumThread(	 500_000_001L, 1_000_000_000L),
				new SumThread(1_000_000_001L, 1_500_000_000L),
				new SumThread(1_500_000_001L, 2_000_000_000L)
		};
		
		//ë‹¨ë…ìœ¼ë¡œ ì²˜ë¦¬í•˜ê¸° 
		long startTime = System.currentTimeMillis();
		sm.start();
		
		try {
			sm.join();
		} catch (InterruptedException e) {
			// TODO: handle exception
		}
		long endTime = System.currentTimeMillis();
		
		System.out.println("ë‹¨ë…ìœ¼ë¡œ ì²˜ë¦¬í–ˆì„ ë•Œ ê²½ê³¼ ì‹œê°„: " + (endTime - startTime));
		System.out.println();
		
		// ì—¬ëŸ¿ì´ í˜‘ë ¥í•´ì„œ ì²˜ë¦¬í•˜ëŠ” ê²½ìš° 
		startTime = System.currentTimeMillis();
		for (SumThread th : sumArr) { 	//ì—¬ëŸ¬ê°œì˜ ì“°ë ˆë“œë¥¼ ì‹¤í–‰ 
			th.start();
		}
		for (SumThread th : sumArr) {	// ëª¨ë“  ì“°ë ˆë“œì˜ ì‹¤í–‰ì´ ëë‚  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦°ë‹¤. 
			try {
				th.join();
			} catch (InterruptedException e) {
				// TODO: handle exception
			}
		}
		endTime = System.currentTimeMillis();
		
	}
}
// ì‹œì‘ê°’ê³¼ ëê°’ì„ ì£¼ë©´ ì‹œì‘ê°’ë¶€í„° ëê°’ê¹Œì§€ì˜ í•©ê³„ë¥¼ êµ¬í•˜ëŠ” ì“°ë ˆë“œ í´ë˜ìŠ¤ ë§Œë“¤ê¸° 
class SumThread extends Thread{
	private long start;	// ì‹œì‘ê°’ ì´ ì €ì¥ë  ë³€ìˆ˜  
	private long end;		// ëê°’ ì´ ì €ì¥ë  ë³€ìˆ˜  
	
	// ìƒì„±ì
	public SumThread(long start, long end) {
		this.start = start;
		this.end = end;
	}
	
	@Override
	public void run() {
		long sum = 0L;
		for (long i = start; i <= end; i++) {
			sum += i;
		}
		
		System.out.println(start + "ë¶€í„°" + end + "ê¹Œì§€ì˜ í•©ê³„: " + sum);
	}

}